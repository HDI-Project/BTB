

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Benchmarking BTB &mdash; BTB 0.3.8.dev0 documentation</title>
  

  
  
    <link rel="shortcut icon" href="_static/dai-logo-white.ico"/>
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
        <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true, "ignoreClass": "document", "processClass": "math|output_area"}})</script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="btb package" href="api/btb.html" />
    <link rel="prev" title="BTBSession" href="tutorials/03_Session.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> BTB
          

          
            
            <img src="_static/dai-logo-white-200.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                0.3.8.dev0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="index.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="install.html">Installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="install.html#stable-release">Stable Release</a></li>
<li class="toctree-l2"><a class="reference internal" href="install.html#from-source">From source</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="tutorials/00_Quickstart.html">Quickstart</a><ul>
<li class="toctree-l2"><a class="reference internal" href="tutorials/00_Quickstart.html#Prepare-a-scoring-function">Prepare a scoring function</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorials/00_Quickstart.html#Define-the-tunable-hyperparameters">Define the tunable hyperparameters</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorials/00_Quickstart.html#Start-the-searching-process">Start the searching process</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">User Guides</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="tutorials/01_Tuning.html">Tuning</a><ul>
<li class="toctree-l2"><a class="reference internal" href="tutorials/01_Tuning.html#Defining-a-Tuning-Problem">Defining a Tuning Problem</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorials/01_Tuning.html#What-is-a-Hyperparameter?">What is a Hyperparameter?</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorials/01_Tuning.html#Creating-a-HyperParam">Creating a HyperParam</a><ul>
<li class="toctree-l3"><a class="reference internal" href="tutorials/01_Tuning.html#BooleanHyperParam">BooleanHyperParam</a></li>
<li class="toctree-l3"><a class="reference internal" href="tutorials/01_Tuning.html#CategoricalHyperParam">CategoricalHyperParam</a></li>
<li class="toctree-l3"><a class="reference internal" href="tutorials/01_Tuning.html#FloatHyperParam">FloatHyperParam</a></li>
<li class="toctree-l3"><a class="reference internal" href="tutorials/01_Tuning.html#IntHyperParam">IntHyperParam</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="tutorials/01_Tuning.html#What-is-Tunable?">What is Tunable?</a><ul>
<li class="toctree-l3"><a class="reference internal" href="tutorials/01_Tuning.html#Creating-a-Tunable">Creating a Tunable</a><ul>
<li class="toctree-l4"><a class="reference internal" href="tutorials/01_Tuning.html#Using-HyperParam-instances">Using HyperParam instances</a></li>
<li class="toctree-l4"><a class="reference internal" href="tutorials/01_Tuning.html#Using-a-dict-representation">Using a dict representation</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="tutorials/01_Tuning.html#What-is-a-Tuner?">What is a Tuner?</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorials/01_Tuning.html#Using-a-Tuner">Using a Tuner</a><ul>
<li class="toctree-l3"><a class="reference internal" href="tutorials/01_Tuning.html#Creating-a-Tuner">Creating a Tuner</a></li>
<li class="toctree-l3"><a class="reference internal" href="tutorials/01_Tuning.html#Propose">Propose</a></li>
<li class="toctree-l3"><a class="reference internal" href="tutorials/01_Tuning.html#Record">Record</a></li>
<li class="toctree-l3"><a class="reference internal" href="tutorials/01_Tuning.html#Tuning-loop-example">Tuning loop example</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="tutorials/01_Tuning.html#Implemented-tuners">Implemented tuners</a><ul>
<li class="toctree-l3"><a class="reference internal" href="tutorials/01_Tuning.html#Leaderboard">Leaderboard</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="tutorials/02_Selection.html">Selection</a><ul>
<li class="toctree-l2"><a class="reference internal" href="tutorials/02_Selection.html#What-is-a-Selection-problem?">What is a Selection problem?</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorials/02_Selection.html#What-is-a-Selector-?">What is a Selector ?</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorials/02_Selection.html#Using-a-Selector">Using a Selector</a><ul>
<li class="toctree-l3"><a class="reference internal" href="tutorials/02_Selection.html#Creating-a-Selector">Creating a Selector</a></li>
<li class="toctree-l3"><a class="reference internal" href="tutorials/02_Selection.html#Select">Select</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="tutorials/02_Selection.html#Selection-loop-example">Selection loop example</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="tutorials/03_Session.html">BTBSession</a><ul>
<li class="toctree-l2"><a class="reference internal" href="tutorials/03_Session.html#What-is-BTBSession">What is BTBSession</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorials/03_Session.html#Creating-a-BTBSession">Creating a BTBSession</a><ul>
<li class="toctree-l3"><a class="reference internal" href="tutorials/03_Session.html#Prepare-a-scoring-function">Prepare a scoring function</a></li>
<li class="toctree-l3"><a class="reference internal" href="tutorials/03_Session.html#Define-the-tunable-hyperparameters">Define the tunable hyperparameters</a></li>
<li class="toctree-l3"><a class="reference internal" href="tutorials/03_Session.html#Create-BTBSession-instance">Create BTBSession instance</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="tutorials/03_Session.html#Using-BTBSession">Using BTBSession</a><ul>
<li class="toctree-l3"><a class="reference internal" href="tutorials/03_Session.html#Run">Run</a></li>
<li class="toctree-l3"><a class="reference internal" href="tutorials/03_Session.html#Exploring-the-result">Exploring the result</a></li>
<li class="toctree-l3"><a class="reference internal" href="tutorials/03_Session.html#Resume-session">Resume session</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="tutorials/03_Session.html#Fitting-the-best-solution">Fitting the best solution</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Benchmarking BTB</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#the-benchmarking-process">The Benchmarking process</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#challenges">Challenges</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#machine-learning-challenges">Machine Learning Challenges</a></li>
<li class="toctree-l4"><a class="reference internal" href="#mathematical-optimization-challenges">Mathematical Optimization Challenges</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#tuning-functions">Tuning Functions</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#tuning-functions-under-comparison">Tuning functions under comparison</a></li>
<li class="toctree-l4"><a class="reference internal" href="#to-introduce-a-new-tuning-function">To introduce a new Tuning Function:</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#running-the-benchmarking">Running the Benchmarking</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#benchmark-arguments">Benchmark Arguments</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#tuners">Tuners</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id1">Challenges</a></li>
<li class="toctree-l4"><a class="reference internal" href="#iterations">Iterations</a></li>
<li class="toctree-l4"><a class="reference internal" href="#storing-the-results">Storing the results</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#our-latest-results">Our latest Results</a></li>
<li class="toctree-l2"><a class="reference internal" href="#credits">Credits</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Resources</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="api/btb.html">API Reference</a><ul>
<li class="toctree-l2"><a class="reference internal" href="api/btb.selection.html">btb.selection package</a><ul>
<li class="toctree-l3"><a class="reference internal" href="api/btb.selection.best.html">btb.selection.best module</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/btb.selection.custom_selector.html">btb.selection.custom_selector module</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/btb.selection.hierarchical.html">btb.selection.hierarchical module</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/btb.selection.pure.html">btb.selection.pure module</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/btb.selection.recent.html">btb.selection.recent module</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/btb.selection.selector.html">btb.selection.selector module</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/btb.selection.ucb1.html">btb.selection.ucb1 module</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/btb.selection.uniform.html">btb.selection.uniform module</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="api/btb.tuning.html">btb.tuning package</a><ul>
<li class="toctree-l3"><a class="reference internal" href="api/btb.tuning.acquisition.html">btb.tuning.acquisition package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="api/btb.tuning.acquisition.base.html">btb.tuning.acquisition.base module</a></li>
<li class="toctree-l4"><a class="reference internal" href="api/btb.tuning.acquisition.expected_improvement.html">btb.tuning.acquisition.expected_improvement module</a></li>
<li class="toctree-l4"><a class="reference internal" href="api/btb.tuning.acquisition.predicted_score.html">btb.tuning.acquisition.predicted_score module</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="api/btb.tuning.hyperparams.html">btb.tuning.hyperparams package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="api/btb.tuning.hyperparams.base.html">btb.tuning.hyperparams.base module</a></li>
<li class="toctree-l4"><a class="reference internal" href="api/btb.tuning.hyperparams.boolean.html">btb.tuning.hyperparams.boolean module</a></li>
<li class="toctree-l4"><a class="reference internal" href="api/btb.tuning.hyperparams.categorical.html">btb.tuning.hyperparams.categorical module</a></li>
<li class="toctree-l4"><a class="reference internal" href="api/btb.tuning.hyperparams.numerical.html">btb.tuning.hyperparams.numerical module</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="api/btb.tuning.metamodels.html">btb.tuning.metamodels package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="api/btb.tuning.metamodels.base.html">btb.tuning.metamodels.base module</a></li>
<li class="toctree-l4"><a class="reference internal" href="api/btb.tuning.metamodels.gaussian_process.html">btb.tuning.metamodels.gaussian_process module</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="api/btb.tuning.tuners.html">btb.tuning.tuners package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="api/btb.tuning.tuners.base.html">btb.tuning.tuners.base module</a></li>
<li class="toctree-l4"><a class="reference internal" href="api/btb.tuning.tuners.gaussian_process.html">btb.tuning.tuners.gaussian_process module</a></li>
<li class="toctree-l4"><a class="reference internal" href="api/btb.tuning.tuners.uniform.html">btb.tuning.tuners.uniform module</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="api/btb.tuning.tunable.html">btb.tuning.tunable module</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="api/btb.session.html">btb.session module</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="contributing.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="history.html">History</a></li>
<li class="toctree-l1"><a class="reference internal" href="authors.html">Credits</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">BTB</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Benchmarking BTB</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            
              <a href="https://github.com/HDI-Project/BTB/blob/master/docs/benchmark.rst" class="fa fa-github"> Edit on GitHub</a>
            
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  
<style>
/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast.container,
.nboutput.nblast.container {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast.container + .nbinput.container {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<div class="section" id="benchmarking-btb">
<h1>Benchmarking BTB<a class="headerlink" href="#benchmarking-btb" title="Permalink to this headline">¶</a></h1>
<p><strong>BTB</strong> provides a benchmarking framework that allows users and developers to evaluate the
performance of the BTB Tuners for Machine Learning Hyperparameter Tuning on hundreds of real world
classification problem and classical mathematical optimization problems.</p>
<p>As part of our benchmarking efforts we run the framework at every release and make the results
public. In each run we compare it to other tuners and optimizer libraries. We are constantly adding
new libraries for comparison. If you have suggestions for a tuner library we should include in our
compraison, please contact us via email at <a class="reference external" href="mailto:dailabmit&#37;&#52;&#48;gmail&#46;com">dailabmit<span>&#64;</span>gmail<span>&#46;</span>com</a>.</p>
<div class="section" id="the-benchmarking-process">
<h2>The Benchmarking process<a class="headerlink" href="#the-benchmarking-process" title="Permalink to this headline">¶</a></h2>
<p>The Benchmarking BTB process has two main concepts.</p>
<div class="section" id="challenges">
<h3>Challenges<a class="headerlink" href="#challenges" title="Permalink to this headline">¶</a></h3>
<p>A Challenge of the BTB Benchmarking framework is a Python class which has a method that produces a
score that can be optimized by tuning a set of hyperparameters.</p>
<p>There are two types of challenges: Machine Learning and Mathematical Optimization.</p>
<div class="section" id="machine-learning-challenges">
<h4>Machine Learning Challenges<a class="headerlink" href="#machine-learning-challenges" title="Permalink to this headline">¶</a></h4>
<p>The goal of these challenges is to optimize the score of Machine Learning models
over real world classification problems by tuning the hyperparameters of the model.</p>
<p>The following machine models are used:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://xgboost.readthedocs.io/en/latest/">Gradient Boosting</a></p></li>
<li><p><a class="reference external" href="https://scikit-learn.org/stable/modules/generated/sklearn.ensemble.RandomForestClassifier.html">Random Forest</a></p></li>
<li><p><a class="reference external" href="https://scikit-learn.org/stable/modules/generated/sklearn.linear_model.SGDClassifier.html#sklearn.linear_model.SGDClassifier">Stochastic Gradient Descent</a></p></li>
</ul>
<p>And the collection of datasets can be found in the <a class="reference external" href="http://atm-data.s3.amazonaws.com/index.html">atm-data bucket on S3</a>.</p>
</div>
<div class="section" id="mathematical-optimization-challenges">
<h4>Mathematical Optimization Challenges<a class="headerlink" href="#mathematical-optimization-challenges" title="Permalink to this headline">¶</a></h4>
<p>These challenges consist of classical Mathematical Optimization functions which the tuner attempts
to maximize by tuning its input parameters.</p>
<p>The following functions have been implemented:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://en.wikipedia.org/wiki/Rosenbrock_function">Rosenbrock</a>.</p></li>
<li><p><a class="reference external" href="https://www.sfu.ca/~ssurjano/branin.html">Branin</a>.</p></li>
<li><p><a class="reference external" href="https://www.sfu.ca/~ssurjano/boha.html">Bohachevsky</a>.</p></li>
</ul>
</div>
</div>
<div class="section" id="tuning-functions">
<h3>Tuning Functions<a class="headerlink" href="#tuning-functions" title="Permalink to this headline">¶</a></h3>
<p>In the context of the BTB Benchmarking, <code class="docutils literal notranslate"><span class="pre">Tuning</span> <span class="pre">Functions</span></code> are python functions that, given a scoring
function and its tunable hyperparameters, try to search for the ideal hyperparameter values within
a given number of iterations.</p>
<p>In many cases tuning functions are based on the BTB Tuner classes, but some other functions have
been implemented using third party libraries to be able to compare their performance.</p>
<div class="section" id="tuning-functions-under-comparison">
<h4>Tuning functions under comparison<a class="headerlink" href="#tuning-functions-under-comparison" title="Permalink to this headline">¶</a></h4>
<p>Currently, benchmarking framework compares the following tuning functions from BTB:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/HDI-Project/BTB/blob/master/btb/tuning/tuners/uniform.py">BTB.Uniform</a>: Uses a Tuner that samples proposals randomly using a uniform distribution.</p></li>
<li><p><a class="reference external" href="https://github.com/HDI-Project/BTB/blob/master/btb/tuning/tuners/gaussian_process.py">BTB.GPTuner</a>: Uses a Bayesian Tuner that optimizes proposals using a GaussianProcess metamodel.</p></li>
<li><p><a class="reference external" href="https://github.com/HDI-Project/BTB/blob/master/btb/tuning/tuners/gaussian_process.py">BTB.GPEiTuner</a>: Uses a Bayesian Tuner that optimizes proposals using a GaussianProcess metamodel and an Expected Improvement acquisition function.</p></li>
</ul>
<p>And the following external tuning functions:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/hyperopt/hyperopt/blob/master/hyperopt/rand.py">HyperOpt.rand</a>: Implements a random hyper parameter search.</p></li>
<li><p><a class="reference external" href="https://github.com/hyperopt/hyperopt/blob/master/hyperopt/tpe.py">HyperOpt.tpe</a>: Implements a Tree-Structured Parzen Estimator for hyperparameter search.</p></li>
</ul>
<p>Note: In our future releases we will be adding the following:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/ray-project/ray/tree/master/python/ray/tune">Ray.Tune</a>.</p></li>
<li><p><a class="reference external" href="https://github.com/sherpa-ai/sherpa/">Sherpa</a>.</p></li>
<li><p><a class="reference external" href="https://github.com/SheffieldML/GPyOpt">GPyOpt</a>.</p></li>
</ul>
</div>
<div class="section" id="to-introduce-a-new-tuning-function">
<h4>To introduce a new Tuning Function:<a class="headerlink" href="#to-introduce-a-new-tuning-function" title="Permalink to this headline">¶</a></h4>
<p>If you want to add a tuner, you could follow the specific signature a tuning function has:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">tuning_function</span><span class="p">(</span>
    <span class="n">scoring_function</span><span class="p">:</span> <span class="n">callable</span><span class="p">,</span>
    <span class="n">tunable_hyperparameters</span><span class="p">:</span> <span class="nb">dict</span><span class="p">,</span>
    <span class="n">iterations</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">score</span><span class="p">:</span> <span class="nb">float</span>
</pre></div>
</div>
<p>Please see how we introduced <code class="docutils literal notranslate"><span class="pre">HyperOpt</span></code> with this <a class="reference external" href="https://github.com/HDI-Project/BTB/blob/master/benchmark/btb_benchmark/tuners/hyperopt.py">signature here</a>.</p>
</div>
</div>
</div>
<div class="section" id="running-the-benchmarking">
<h2>Running the Benchmarking<a class="headerlink" href="#running-the-benchmarking" title="Permalink to this headline">¶</a></h2>
<p>The user API for the BTB Benchmarking is the <code class="docutils literal notranslate"><span class="pre">btb_benchmark.main.run_benchmark</span></code> function.</p>
<p>The simplest usage is to execute the <code class="docutils literal notranslate"><span class="pre">run_benchmark</span></code> function without any arguments:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">btb_benchmark</span> <span class="kn">import</span> <span class="n">run_benchmark</span>

<span class="n">scores</span> <span class="o">=</span> <span class="n">run_benchmark</span><span class="p">()</span>
</pre></div>
</div>
<p>This will execute all the tuners that have been implemented in <code class="docutils literal notranslate"><span class="pre">btb_benchmark</span></code> on all the
challenges and return a <code class="docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code> with one column per Challenge and one row per Tuner
containing the best scores obtained by each combination:</p>
<div class="highlight-guess notranslate"><div class="highlight"><pre><span></span>                                                       BTB.GPEiTuner  ...  HyperOpt.rand.suggest  HyperOpt.tpe.suggest
0              XGBoostChallenge(&#39;PizzaCutter1_1.csv&#39;)       0.664602  ...               0.617456              0.658357
1        XGBoostChallenge(&#39;analcatdata_apnea3_1.csv&#39;)       0.812482  ...               0.800539              0.821088
2                       XGBoostChallenge(&#39;ar4_1.csv&#39;)       0.675651  ...               0.622220              0.633233
3                       XGBoostChallenge(&#39;ar5_1.csv&#39;)       0.547937  ...               0.445195              0.445195
4                     XGBoostChallenge(&#39;ecoli_1.csv&#39;)       0.728677  ...               0.705936              0.724864
5             XGBoostChallenge(&#39;eye_movements_1.csv&#39;)       0.834001  ...               0.820084              0.824663
</pre></div>
</div>
<div class="section" id="benchmark-arguments">
<h3>Benchmark Arguments<a class="headerlink" href="#benchmark-arguments" title="Permalink to this headline">¶</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">run_benchmark</span></code> function has the following arguments:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">tuners</span></code>: list of tuners that will be benchmarked.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">challenge_types</span></code>: list of types of challenges that will be used for benchmark (optional).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">challenges</span></code>: list of names of challenges that will be benchmarked (optional).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">sample</span></code>: if specified, run the benchmark on a subset of the available challenges of the given size (optional).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">iterations</span></code>: the number of tuning iterations to perform per challenge and tuner.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">output_path</span></code>: If given, store the benchmark results in the given path as a CSV file.</p></li>
</ul>
<div class="section" id="tuners">
<h4>Tuners<a class="headerlink" href="#tuners" title="Permalink to this headline">¶</a></h4>
<p>If you want to run the benchmark on your own tuner implementation, or in a subset of the BTB
tuners, you can pass them as a list to the tuners argument. This can be done by either directly
passing the function or the name of the tuner.</p>
<p>For example, if we want to compare the performance of our tuning function and BTB.GPTuner, we can
call the <code class="docutils literal notranslate"><span class="pre">run_benchmark</span></code> function like this:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">tuners</span> <span class="o">=</span> <span class="p">[</span>
    <span class="n">my_tuning_function</span><span class="p">,</span>
    <span class="s1">&#39;BTB.GPTuner&#39;</span><span class="p">,</span>
<span class="p">]</span>
<span class="n">results</span> <span class="o">=</span> <span class="n">run_benchmark</span><span class="p">(</span><span class="n">tuners</span><span class="o">=</span><span class="n">tuners</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="id1">
<h4>Challenges<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h4>
<p>If we want to run the benchmark on a subset of the challenges, we can pass their names to the
challenges argument. If a given challenge is the name of a mathematical optimization problem
function, the corresponding Mathematical Optimization Challenge will be executed.</p>
<p>If the given challenge is the name of a Machine Learning Classification problem, all the
implemented classifiers will be benchmarked on that dataset.</p>
<p>For example, if we want to run only on the Rosenbrock function and evaluate on the <code class="docutils literal notranslate"><span class="pre">stock_1</span></code>
dataset, we can call the <code class="docutils literal notranslate"><span class="pre">run_benchmark</span></code> function like this:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">challenges</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;rosenbrock&#39;</span><span class="p">,</span> <span class="s1">&#39;stock_1&#39;</span><span class="p">]</span>
<span class="n">results</span> <span class="o">=</span> <span class="n">run_benchmark</span><span class="p">(</span><span class="n">challenges</span><span class="o">=</span><span class="n">challenges</span><span class="p">)</span>
</pre></div>
</div>
<p>Additionally, if we only want to run on a family of challenges or a specific Machine Learning
model, we can specify it passing the <code class="docutils literal notranslate"><span class="pre">types</span></code> argument.</p>
<p>For example, if we want to run all the dataset on the XGBoost model, we can call the run benchmark
function like this:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">results</span> <span class="o">=</span> <span class="n">run_benchmark</span><span class="p">(</span><span class="n">challenge_types</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;xgboost&#39;</span><span class="p">])</span>
</pre></div>
</div>
<p>Finally, if we want to further reduce the amount of challenges that are executed, we can run on a
random subsample of all the selected challenges using the <code class="docutils literal notranslate"><span class="pre">sample</span></code> argument.</p>
<p>For example, if we want to run <code class="docutils literal notranslate"><span class="pre">XGBoost</span></code> only on 10 random datasets, we can use:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">results</span> <span class="o">=</span> <span class="n">run_benchmark</span><span class="p">(</span><span class="n">challenge_types</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;xgboost&#39;</span><span class="p">],</span> <span class="n">sample</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="iterations">
<h4>Iterations<a class="headerlink" href="#iterations" title="Permalink to this headline">¶</a></h4>
<p>By default the benchmark runs 100 tuning iterations per tuner and challenge. If we want to change
the amount of iterations to be performed by each tuner, we can specify so by adding the argument
<code class="docutils literal notranslate"><span class="pre">iterations</span></code>.</p>
<p>For example, if we want to run all the challenges for 1000 iterations / tuner each we can use:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">results</span> <span class="o">=</span> <span class="n">run_benchmark</span><span class="p">(</span><span class="n">iterations</span><span class="o">=</span><span class="mi">1000</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="storing-the-results">
<h4>Storing the results<a class="headerlink" href="#storing-the-results" title="Permalink to this headline">¶</a></h4>
<p>If we want to store the obtained results directly in to a file, we can pass the path to where we
would like to save our results, by adding the argument <code class="docutils literal notranslate"><span class="pre">output_path</span></code>.</p>
<p>For example, if we want to store it as <code class="docutils literal notranslate"><span class="pre">path/to/my_results.csv</span></code> we can use:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">run_benchmark</span><span class="p">(</span><span class="n">output_path</span><span class="o">=</span><span class="s1">&#39;path/to/my_results.csv&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="our-latest-results">
<h2>Our latest Results<a class="headerlink" href="#our-latest-results" title="Permalink to this headline">¶</a></h2>
<p>All the results obtained by the different BTB releases can be found inside the
<a class="reference external" href="https://github.com/HDI-Project/BTB/tree/master/benchmark/results">results</a> folder as CSV files.</p>
<p>Additionally, all the previous results can be browsed and analyzed in the following <a class="reference external" href="https://docs.google.com/spreadsheets/d/1E0fSSfqOuDhazccdsx7eG1aLCJagdpj1OKYhdOohZOg/">Google Sheets
document</a>.</p>
</div>
<div class="section" id="credits">
<h2>Credits<a class="headerlink" href="#credits" title="Permalink to this headline">¶</a></h2>
<p>All the datasets used for the BTB benchmarking were downloaded from <a class="reference external" href="openml.org">openml.org</a>.</p>
<p>Full details about their origin can be read the paper by Joaquin Vanschoren, Jan N. van Rijn,
Bernd Bischl, and Luis Torgo. <a class="reference external" href="http://arxiv.org/abs/1407.7722">OpenML: networked science in machine learning</a>. SIGKDD Explorations 15(2), pp 49-60, 2013.</p>
<p>After the download, the datasets went through a cleanup process in which the following
modifications were applied:</p>
<ul class="simple">
<li><p>Encode categorical columns with numerical values.</p></li>
<li><p>Rename the target column to <code class="docutils literal notranslate"><span class="pre">class</span></code> and make it the last column.</p></li>
</ul>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="api/btb.html" class="btn btn-neutral float-right" title="btb package" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="tutorials/03_Session.html" class="btn btn-neutral float-left" title="BTBSession" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, MIT Data To AI Lab

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>